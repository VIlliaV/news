{"mappings":"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","sources":["src/js/toggle.js","src/js/active.js","src/js/toggle_tel.js","src/js/not-found-markup.js","src/js/localStorage.js","src/js/card-markup.js"],"sourcesContent":["var colorState = localStorage.getItem(\"colorState\") || \"#fff\";\nvar toggleState = localStorage.getItem(\"toggleState\") || \"off\";\nvar toggleSwitch = document.querySelector('.toggle input[type=\"checkbox\"]');\nvar element = document.getElementById(\"myElement\");\nvar body = document.getElementsByTagName(\"body\")[0];\nvar element_light = document.getElementById(\"dark\");\nvar element_dark = document.getElementById(\"light\");\nvar element_light_tab = document.getElementById(\"dark_tab\");\nvar element_dark_tab = document.getElementById(\"light_tab\");\nvar menuLinks = document.querySelectorAll('.menu_link');\nvar menu_items = document.querySelectorAll(\".menu_item\");\nvar header = document.getElementsByTagName(\"header\")[0];\nvar search_box = document.getElementsByTagName(\"input\")[0];\nvar input = document.querySelector('.search-box');\n\nfunction toggleColor() {\n  if (toggleSwitch.checked) {\n    body.style.backgroundColor = \"#2E2E2E\";\n    body.style.color = \"#fff\";\n    element.style.color = \"#fff\";\n    colorState = \"#2E2E2E\";\n    element_dark.style.color = \"#5F6775\";\n    element_light.style.color = \"#4B48DB\";\n    element_dark_tab.style.color = \"#5F6775\";\n    element_light_tab.style.color = \"#4B48DB\";\n    element_dark_tab.style.stroke = \"#5F6775\";\n    element_light_tab.style.border = \"#4B48DB\";\n\n    menuLinks.forEach(function(link) {\n      link.classList.add('color-switch');\n    });\n    header.classList.add(\"dark-border\");\n    search_box.classList.add(\"background-color-search\");\n    input.classList.add('dark-border-search');\n  } else {\n    body.style.backgroundColor = \"#fff\";\n    body.style.color = \"#000\";\n    element.style.color = \"#000\";\n    colorState = \"#fff\";\n    element_dark.style.color = \"#4B48DB\";\n    element_light.style.color = \"#5F6775\";\n    element_dark_tab.style.color = \"#4B48DB\";\n    element_light_tab.style.color = \"#5F6775\";\n    element_dark_tab.style.stroke = \"#4B48DB\";\n    element_light_tab.style.border = \"#4B48DB\";\n\n    menuLinks.forEach(function(link) {\n      link.classList.remove('color-switch');\n    });\n    header.classList.remove(\"dark-border\");\n    header.classList.remove(\"white-border\");\n    search_box.classList.remove(\"background-color-search\");\n    input.classList.remove('dark-border-search');\n  }\n\n  localStorage.setItem(\"colorState\", colorState);\n  localStorage.setItem(\"toggleState\", toggleSwitch.checked ? \"on\" : \"off\");\n}\n\nif (colorState === \"#2E2E2E\") {\n  toggleSwitch.checked = true;\n  toggleColor();\n} else {\n  toggleSwitch.checked = false;\n}\n\nif (toggleState === \"on\") {\n  toggleSwitch.checked = true;\n} else {\n  toggleSwitch.checked = false;\n}\n\ntoggleSwitch.addEventListener(\"click\", toggleColor);","const liElements = document.querySelectorAll('.menu_item');\nconst activeLink = localStorage.getItem('activeLink');\nconst logoActive = document.querySelector('.logo');\n\nlogoActive.addEventListener('click', () => {\n  localStorage.setItem('activeLink', '/index.html');\n});\n\n\nif (activeLink) {\n  // add the active class to the saved link\n  const link = document.querySelector(`.menu_link[href=\"${activeLink}\"]`);\n  link.parentElement.classList.add('active');\n}\n\nliElements.forEach(function (li) {\n  li.addEventListener('click', function (event) {\n    liElements.forEach(function (li) {\n      li.classList.remove('active');\n    });\n\n    this.classList.add('active');\n    const href = this.querySelector('a').getAttribute('href');\n    localStorage.setItem('activeLink', href);\n  });\n});\n","const currentPageUrl = window.location.pathname;\nconst menuItemLink = document.querySelector(\n  `.menu_list-tel li a[href=\"${currentPageUrl}\"]`\n);\nconst menuItem = menuItemLink ? menuItemLink.parentNode : null;\nvar body = document.getElementsByTagName('body')[0];\n\nif (menuItem) {\n  menuItem.style.backgroundColor = '#4440f6';\n}\n","const favoriteGallerySection = document.querySelector(\n  '#favorite-galery-section'\n);\n\nfunction whenNotFoundMarkup() {\n  const notFoundImage = `<img\n    class=\"not-found__img\"\n    src=\"/image-not-found.584be82b.jpg\"\n    alt=\"Something went wrong\"\n  />`;\n  favoriteGallerySection.innerHTML = notFoundImage;\n}\n\nexport { whenNotFoundMarkup };\n","import { getPopularNews } from './api';\nimport { whenNotFoundMarkup } from './not-found-markup';\n\nfunction checkDarkTheme() {\n  const theme = localStorage.getItem('ui-theme');\n  if (theme !== null) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction changeTheme() {\n  const theme = checkDarkTheme('ui-theme');\n  if (theme) {\n    localStorage.removeItem('ui-theme');\n  } else {\n    localStorage.setItem('ui-theme', 'dark');\n  }\n}\n\nfunction getFavoriteArticles() {\n  return JSON.parse(localStorage.getItem('favoriteArticles'));\n}\nfunction checkLocalstorage() {\n  let LocalstorageObjects = getFavoriteArticles() || {};\n  if (LocalstorageObjects.length === 0) {\n    whenNotFoundMarkup();\n  }\n}\n\nfunction addToFavoriteArticles(item) {\n  let favorite = getFavoriteArticles();\n  if (favorite === null) {\n    favorite = [item];\n  } else {\n    favorite.push(item);\n  }\n  localStorage.setItem('favoriteArticles', JSON.stringify(favorite));\n}\n\nfunction removeFromFavoriteArticles(itemId) {\n  let favorite = getFavoriteArticles();\n  let indexCard = 0;\n  favorite.map((item, index) => {\n    const cardId = item.uri.slice(38, item.uri.length);\n    if (cardId === itemId) {\n      indexCard = index;\n    }\n  });\n  favorite.splice(indexCard, 1);\n  localStorage.setItem('favoriteArticles', JSON.stringify(favorite));\n  checkLocalstorage();\n}\n\nfunction testFavorite() {\n  getPopularNews().then(resp => {\n    localStorage.setItem('favoriteArticles', JSON.stringify(resp));\n  });\n}\n\nasync function testReding() {\n  const news = await getPopularNews();\n  for (elNews of news) {\n    elNews.date = elNews.published_date;\n  }\n  localStorage.setItem('readingNews', JSON.stringify(news));\n}\n\nfunction getReadingNews() {\n  return JSON.parse(localStorage.getItem('readingNews'));\n}\n\nfunction addToReadingNews(item) {\n  const addNews = item;\n  addNews.date = new Date().toLocaleDateString();\n  let readingNews = getReadingNews();\n  if (readingNews === null) {\n    readingNews = [addNews];\n  } else {\n    readingNews.push(addNews);\n  }\n  localStorage.setItem('readingNews', JSON.stringify(readingNews));\n}\n\nfunction getDatesReadingNews() {\n  let readingNews = getReadingNews();\n  let arrDate = [];\n\n  for (elNews of readingNews) {\n    if (!arrDate.includes(elNews.date)) {\n      arrDate.push(elNews.date);\n    }\n  }\n  return arrDate;\n}\n\nfunction getReadingNewsByDate(date) {\n  let readingNews = getReadingNews();\n  return readingNews.filter(news => news.date === date);\n}\n\nexport {\n  checkDarkTheme,\n  changeTheme,\n  getFavoriteArticles,\n  addToFavoriteArticles,\n  removeFromFavoriteArticles,\n  testFavorite,\n  addToReadingNews,\n  getDatesReadingNews,\n  getReadingNewsByDate,\n  testReding,\n};\n","import { removeFromFavoriteArticles, addToReadingNews } from './localStorage';\nimport { gerCurrentNews } from './api';\nfunction getFavoriteArticles() {\n  return JSON.parse(localStorage.getItem('favoriteArticles'));\n}\n\nlet newsAll = [];\nlet idNews = [];\n\nconst markupList = document.querySelector('#favorite-list');\ncreateNewsMarkup(getFavoriteArticles());\n\nfunction createNewsMarkup(newsCard) {\n  newsAll = newsCard;\n\n  const newsItemsMarkup = newsCard\n    .map(\n      item => `<li class=\"favorite-cards__item\">\n        <a class=\"favorite-cards__image-link\" href=\"${item.url}\">\n          <img\n            class=\"favorite-cards__img\" width=\"440\"\n            src=\"${getPhoto(item)}\"\n            alt=\"${item.per_facet}\"\n          \n          />\n          <p class=\"favorite-cards__category\">${addDefaultText(\n            item.subsection\n          )}</p>\n          <button type=\"button\" class=\"favorite-cards__remove-btn\n          id=\"${item.uri.slice(38, item.uri.length)}\">\n          Remove from favorite\n          <svg class=\"favorite-cards__heart-icon\" width=\"32\" height=\"32\">\n            <use href=\"/sprite-full.e7f74a66.svg#heart-full\"></use>\n          </svg>\n          </button>\n        </a>\n        <h2 class=\"favorite-cards__news-title\">${item.title}\n        </h2>\n        <p class=\"favorite-cards__dicription\">\n        ${limitText(item.abstract)}\n        </p>\n        <div class=\"favorite-cards__bottom\" id=\"${item.uri}\">\n          <p class=\"favorite-cards__date\">${reformatDate(\n            item.published_date\n          )}</p>\n          <a class=\"favorite-cards__link\" href=\"${item.url}\">\n            Read more\n          </a>\n        </div>\n      </li>`\n    )\n    .join('');\n  if (newsItemsMarkup !== '') {\n    markupList.innerHTML = newsItemsMarkup;\n    markupList.addEventListener('click', deleteCard);\n  }\n}\n\nfunction reformatDate(dateString) {\n  const [year, month, day] = dateString.split('-');\n  const newDate = `${day}/${month}/${year}`;\n  return newDate;\n}\n\nfunction addDefaultText(text) {\n  if (text) {\n    return text;\n  } else {\n    return 'Other...';\n  }\n}\n\nfunction limitText(text) {\n  if (text.length > 110) {\n    return text.substring(0, 110) + '...';\n  } else {\n    return text;\n  }\n}\n\nfunction getPhoto(item) {\n  const photoUrl = item.media.map(el => el['media-metadata'][2].url);\n  if (photoUrl.length === 0) {\n    return '/image-not-found.584be82b.jpg';\n  } else return photoUrl;\n}\n\nfunction deleteCard(event) {\n  event.preventDefault();\n  if (event.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  const uriId = event.target.attributes[2].nodeName;\n  const uriIdClean = uriId.slice(0, uriId.length - 1);\n  removeFromFavoriteArticles(uriIdClean);\n  createNewsMarkup(getFavoriteArticles());\n}\n\nmarkupList.addEventListener('click', goToRead);\n\nfunction findIdNews() {\n  const finded = newsAll.find(option => option.uri == idNews);\n  addToReadingNews(finded);\n}\n\nfunction goToRead(e) {\n  if (e.target.nodeName === 'A') {\n    idNews = e.target.parentElement.id;\n    window.location.href = e.target.href;\n    findIdNews();\n  }\n}\n"],"names":["$517f5efacfe8d43b$var$colorState","localStorage","getItem","$517f5efacfe8d43b$var$toggleState","$517f5efacfe8d43b$var$toggleSwitch","document","querySelector","$517f5efacfe8d43b$var$element","getElementById","$517f5efacfe8d43b$var$body","getElementsByTagName","$517f5efacfe8d43b$var$element_light","$517f5efacfe8d43b$var$element_dark","$517f5efacfe8d43b$var$element_light_tab","$517f5efacfe8d43b$var$element_dark_tab","$517f5efacfe8d43b$var$menuLinks","querySelectorAll","$517f5efacfe8d43b$var$header","$517f5efacfe8d43b$var$search_box","$517f5efacfe8d43b$var$input","$517f5efacfe8d43b$var$toggleColor","checked","style","backgroundColor","color","stroke","border","forEach","link","classList","add","remove","setItem","addEventListener","$82cfffc3ee961c07$var$liElements","$82cfffc3ee961c07$var$activeLink","parentElement","li1","event","li","this","href","getAttribute","$298863ef93eb18d4$var$currentPageUrl","window","location","pathname","$298863ef93eb18d4$var$menuItemLink","$298863ef93eb18d4$var$menuItem","parentNode","$0d369889fb3f0ac9$var$favoriteGallerySection","$2338c8cd734f85a6$export$6ef34039e2b61aac","JSON","parse","$2338c8cd734f85a6$var$checkLocalstorage","length","innerHTML","$2338c8cd734f85a6$export$a7208fa74e4c591e","itemId","favorite","indexCard","map","item","index","uri","slice","splice","stringify","$2338c8cd734f85a6$var$getReadingNews","$02ed5811993e6f78$var$getFavoriteArticles","$02ed5811993e6f78$var$newsAll","$02ed5811993e6f78$var$idNews","$02ed5811993e6f78$var$markupList","$02ed5811993e6f78$var$createNewsMarkup","newsCard","newsItemsMarkup","url","photoUrl","media","el","$02ed5811993e6f78$var$getPhoto","per_facet","text","subsection","title","substring","$02ed5811993e6f78$var$limitText","abstract","dateString","year","month","day","split","$02ed5811993e6f78$var$reformatDate","published_date","join","$02ed5811993e6f78$var$deleteCard","preventDefault","target","nodeName","uriId","attributes","e","id","addNews","date","Date","toLocaleDateString","readingNews","push","find","option"],"version":3,"file":"favorite.0bc3d49d.js.map"}