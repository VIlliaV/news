!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var o=window.location.pathname,c=document.getElementById("mob-home-link"),i=document.getElementById("mob-favorite-link"),s=document.getElementById("mob-read-link");"/index.html"===o?c.classList.add("mob-menu__active-item"):"/favorite.html"===o?i.classList.add("mob-menu__active-item"):"/read.html"===o&&s.classList.add("mob-menu__active-item");var l=document.querySelectorAll(".menu_link_tel");l.forEach((function(e){e.href===window.location.href&&(e.classList.add("active-tel"),e.style.color="#fff"),e.addEventListener("click",(function(t){t.preventDefault(),l.forEach((function(e){e.classList.remove("active-tel"),e.style.color=""})),e.classList.add("active-tel"),e.style.color="#fff",window.location.href=e.href}))}));var d=document.querySelector("#icon-search_desk"),u=document.querySelector(".search-box");d.addEventListener("click",(function(){if(window.innerWidth<=766)if(u.classList.toggle("active"),u.classList.contains("active")){u.style.width="0",u.style.display="block";u.offsetWidth;u.style.width="180px",u.style.height="31px",u.style.position="inherit",u.focus()}else u.style.width="0",u.style.transform=translateX(0),u.style.display="none",u.blur()}));var f=document.querySelector(".search"),m=document.querySelector(".search-box");f.addEventListener("click",(function(){m.classList.toggle("active-input"),f.classList.toggle("active-input")}));var v,h=a("1t1Wn"),g=a("b7ONl"),p=a("UL92Z"),y={};Object.defineProperty(y,"__esModule",{value:!0}),y.default=function(e){return e&&e.constructor===Symbol?"symbol":typeof e};var _=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,w=/^0b[01]+$/i,L=/^0o[0-7]+$/i,S=parseInt,k="object"==typeof t&&t&&t.Object===Object&&t,E="object"==typeof self&&self&&self.Object===Object&&self,q=k||E||Function("return this")(),x=Object.prototype.toString,B=Math.max,C=Math.min,D=function(){return q.Date.now()};function T(t){var n=void 0===t?"undefined":e(y)(t);return!!t&&("object"==n||"function"==n)}function I(t){if("number"==typeof t)return t;if(function(t){return"symbol"==(void 0===t?"undefined":e(y)(t))||function(e){return!!e&&"object"==typeof e}(t)&&"[object Symbol]"==x.call(t)}(t))return NaN;if(T(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=T(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(_,"");var r=w.test(t);return r||L.test(t)?S(t.slice(2),r?2:8):b.test(t)?NaN:+t}v=function(e,t,n){var r,a,o,c,i,s,l=0,d=!1,u=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=r,o=a;return r=a=void 0,l=t,c=e.apply(o,n)}function v(e){return l=e,i=setTimeout(g,t),d?m(e):c}function h(e){var n=e-s;return void 0===s||n>=t||n<0||u&&e-l>=o}function g(){var e=D();if(h(e))return p(e);i=setTimeout(g,function(e){var n=t-(e-s);return u?C(n,o-(e-l)):n}(e))}function p(e){return i=void 0,f&&r?m(e):(r=a=void 0,c)}function y(){var e=D(),n=h(e);if(r=arguments,a=this,s=e,n){if(void 0===i)return v(s);if(u)return i=setTimeout(g,t),m(s)}return void 0===i&&(i=setTimeout(g,t)),c}return t=I(t)||0,T(n)&&(d=!!n.leading,o=(u="maxWait"in n)?B(I(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==i&&clearTimeout(i),l=0,r=s=a=i=void 0},y.flush=function(){return void 0===i?c:p(D())},y};var N=[],j=[],M=document.querySelector(".favorite-cards");function A(t){var n=t.map((function(t){return'<li class="favorite-cards__item" id="'.concat(t.uri,'">\n   \n        <a class="favorite-cards__image-link" target="_blank" href="').concat(t.url,'">\n          <img\n            class="favorite-cards__img"\n            src="').concat(R(t),'"\n            alt="').concat(t.per_facet,'"\n          />\n          <p class="favorite-cards__category">').concat(O(t.subsection),'</p>\n             <button type="submit" class="favorite-cards__remove-btn"  id="').concat(t.uri.slice(38,t.uri.length),'">\n             ').concat(function(e){var t=(0,p.getFavoriteArticles)();if(t){for(var n=0;n<t.length;n+=1)if(t[n].uri===e)return'Remove from favorite<svg class="favorite-cards__heart-icon" width="32" height="32">\n            <use href="/sprite-full.e7f74a66.svg#heart-full" fill="var(--few)" style="stroke: var(--few)" ></use>\n          </svg>';return'Add to favorite<svg class="favorite-cards__heart-icon" width="32" height="32">\n            <use href="/sprite-full.e7f74a66.svg#heart-full" fill="transparent" style="stroke: var(--few)" ></use>\n          </svg>'}return'Add to favorite<svg class="favorite-cards__heart-icon" width="32" height="32">\n            <use href="/sprite-full.e7f74a66.svg#heart-full" fill="transparent" style="stroke: var(--few)" ></use>\n          </svg>'}(t.uri),'\n             \n          </button>\n        </a>\n        <h2 class="favorite-cards__news-title">').concat(t.title,'\n        </h2>\n        <p class="favorite-cards__dicription">\n        ').concat(F(t.abstract),'\n        </p>\n        <div class="favorite-cards__bottom">\n          <p class="favorite-cards__date">').concat((n=t.published_date,r=e(h)(n.split("-"),3),a=r[0],o=r[1],c=r[2],"".concat(c,"/").concat(o,"/").concat(a)),'</p><a class="favorite-cards__link" href="').concat(t.url,'" target="_blank">\n            Read more\n          </a>\n        </div>\n      </li>');var n,r,a,o,c})).join("");M.innerHTML=n}function O(e){return e||"Other..."}function F(e){return e.length>110?e.substring(0,110)+"...":e}function R(e){return e.media?e.media.map((function(e){return e["media-metadata"][2].url})):""==!e.multimedia?"blog480"==e.multimedia[2].crop_name?"https://www.nytimes.com/".concat(e.multimedia[2].url):e.multimedia[2].url:"./image-not-found.584be82b.jpg"}function W(){M.innerHTML=""}document.querySelector("[data-search]").addEventListener("input",e(v)((function(t){t.preventDefault();var n=t.target.value;if(!n)return void W();var r=(a=localStorage.getItem("CURRENT_DATA")||'"01/01/1997"',o=a.split("/"),c=o[2].split('"'),i=o[1],s=o[0].split('"'),[c[0],i,s[1]].join(""));var a,o,c,i,s;console.log(r);var l="https://api.nytimes.com/svc/search/v2/articlesearch.json?q=".concat(n,"&begin_date=").concat(r,"&end_date=").concat(r,"&api-key=").concat("ItcTRzMEchmrtb2N2HI5uMgEjAjMlgCo");fetch(l).then((function(e){return e.json()})).then((function(e){return e.response.docs})).catch((function(e){console.log(e)})).then((function(t){var n;W(),n=t.map((function(t){return'<li class="favorite-cards__item" id="'.concat(t.uri,'">\n      <input type="submit" class="favorite-cards__remove-btn" value="Add to favorite">\n        <a class="favorite-cards__image-link" >\n          <img\n            class="favorite-cards__img"\n            src="').concat(R(t),'"\n            alt="').concat(t.per_facet,'"\n          />\n          <p class="favorite-cards__category">').concat(O(t.subsection_name),'</p>\n        </a>\n        <h2 class="favorite-cards__news-title">').concat(t.headline.main,'\n        </h2>\n        <p class="favorite-cards__dicription">\n        ').concat(F(t.abstract),'\n        </p>\n        <div class="favorite-cards__bottom">\n          <p class="favorite-cards__date">').concat(function(t){var n=e(h)(t.split("-"),3),r=n[0],a=n[1],o=n[2].split("T")[0];return"".concat(o,"/").concat(a,"/").concat(r)}(t.pub_date),'</p>\n          <a class="favorite-cards__link" href="').concat(t.web_url,'">\n            Read more\n          </a>\n        </div>\n      </li>')})).join(""),M.innerHTML=n,console.log(t)})).catch((function(e){return console.log(e)}))}),500)),window.addEventListener("load",(function(){(0,g.getPopularNews)().then((function(e){A(e),j=e})).catch((function(e){return console.log(e)}))})),M.addEventListener("click",(function(e){"BUTTON"===e.target.nodeName&&(e.preventDefault(),N=e.target.parentElement.parentElement.id,"Add to favorite"===e.target.firstChild.data.trim()?(e.target.firstChild.data="Remove from favorite",e.target.lastElementChild.lastElementChild.attributes.fill.textContent="#4b48db",t=j.find((function(e){return e.uri==N})),(0,p.addToFavoriteArticles)(t)):(e.target.firstChild.data="Add to favorite",e.target.lastElementChild.lastElementChild.attributes.fill.textContent="transparent",function(e){var t=e.target.id;(0,p.removeFromFavoriteArticles)(t)}(event)));var t}));var H=window.location.pathname,U=document.getElementById("home-link"),J=document.getElementById("favorite-link"),$=document.getElementById("read-link");"/index.html"===H?U.classList.add("active"):"/favorite.html"===H?J.classList.add("active"):"/read.html"===H&&$.classList.add("active");var P=localStorage.getItem("colorState")||"#fff",Y=localStorage.getItem("toggleState")||"off",Z=document.querySelector('.toggle input[type="checkbox"]'),z=document.getElementById("myElement"),X=document.getElementsByTagName("body")[0],K=document.getElementById("dark"),G=document.getElementById("light"),Q=document.getElementById("dark_tab"),V=document.getElementById("light_tab"),ee=document.querySelectorAll(".menu_link"),te=(document.querySelectorAll(".menu_item"),document.getElementsByTagName("header")[0]),ne=document.getElementsByTagName("input")[0],re=document.querySelector(".search-box"),ae=document.querySelector(".mob-menu"),oe=document.querySelectorAll(".mob-link-text"),ce=document.querySelector(".mob-logo"),ie=document.querySelector(".mob-menu__x"),se=document.querySelector(".burger-icon");function le(){Z.checked?(ae.style.backgroundColor="#2E2E2E",oe.forEach((function(e){e.style.color="#f4f4f4"})),ce.style.color="#f4f4f4",se.style.fill="#fff",ie.style.fill="#fff",X.style.backgroundColor="#2E2E2E",X.style.color="#fff",z.style.color="#fff",G.style.color="#5F6775",K.style.color="#4B48DB",V.style.color="#5F6775",Q.style.color="#4B48DB",V.style.stroke="#5F6775",Q.style.border="#4B48DB",ee.forEach((function(e){e.classList.add("color-switch")})),te.classList.add("dark-border"),ne.classList.add("background-color-search"),re.classList.add("dark-border-search")):(ae.style.backgroundColor="#fff",oe.forEach((function(e){e.style.color="#111321"})),ce.style.color="#111321",se.style.fill="#111321",ie.style.fill="#111321",X.style.backgroundColor="#fff",X.style.color="#000",z.style.color="#000",G.style.color="#4B48DB",K.style.color="#5F6775",V.style.color="#4B48DB",Q.style.color="#5F6775",V.style.stroke="#4B48DB",Q.style.border="#4B48DB",ee.forEach((function(e){e.classList.remove("color-switch")})),te.classList.remove("dark-border"),te.classList.remove("white-border"),ne.classList.remove("background-color-search"),re.classList.remove("dark-border-search")),localStorage.setItem("colorState",P),localStorage.setItem("toggleState",Z.checked?"on":"off")}"#2E2E2E"===P?(Z.checked=!0,le()):Z.checked=!1,Z.checked="on"===Y,Z.addEventListener("click",le);var de=document.querySelector(".month__data"),ue=document.querySelector(".day"),fe=document.querySelector(".month__arrow--prev"),me=document.querySelector(".month__arrow--next"),ve=document.querySelector(".calendar__input"),he=document.querySelector(".calendar__text"),ge=document.querySelector(".picker"),pe=document.querySelector(".calendar__down"),ye=document.querySelector(".calendar__up"),_e=document.querySelector(".calendar__icon--start"),be=new Date,we=be.getFullYear(),Le=be.getMonth(),Se=be.getDate(),ke="",Ee=["January","February","March","April","May","June","July","August","September","October","November","December"];function qe(){for(var e=new Date(we,Le,0).getDay(),t=new Date(we,Le+1,0).getDate(),n=new Date(we,Le,0).getDate(),r=new Date(we,Le,t).getDay(),a="",o=e;o>0;o-=1)a+='<li class="day__item inactive--prev">'.concat(n-o+1,"</li>");for(var c=1;c<=t;c+=1)a+='<li class="day__item">'.concat(c,"</li>");for(var i=r;i<7;i+=1)a+='<li class="day__item inactive--next">'.concat(i-r+1,"</li>");de.innerText="".concat(Ee[Le]," ").concat(we),ue.innerHTML=a}function xe(e,t,n){return-1===t&&(t=11,e-=1),12===t&&(t=0,e+=1),he.textContent="".concat(n.toString().padStart(2,"0"),"/").concat((t+1).toString().padStart(2,"0"),"/").concat(e),ke=he.textContent,ge.classList.add("hidden"),pe.classList.remove("hidden"),ye.classList.add("hidden"),ve.classList.remove("calendar__open"),ye.classList.remove("calendar__open"),_e.classList.remove("calendar__open"),localStorage.setItem("CURRENT_DATA",JSON.stringify(ke)),ke}ve.addEventListener("click",(function(){ge.classList.toggle("hidden"),pe.classList.toggle("hidden"),ye.classList.toggle("hidden"),ge.classList.contains("hidden")||(ve.classList.add("calendar__open"),ye.classList.add("calendar__open"),_e.classList.add("calendar__open"))})),qe(),fe.addEventListener("click",(function(){(Le-=1)<0||Le>11?(be=new Date(we,Le,(new Date).getDate()),we=be.getFullYear(),Le=be.getMonth()):be=new Date,qe()})),me.addEventListener("click",(function(){(Le+=1)<0||Le>11?(be=new Date(we,Le,(new Date).getDate()),we=be.getFullYear(),console.log(we),Le=be.getMonth()):be=new Date,qe()})),ue.addEventListener("click",(function(e){if("LI"===e.target.nodeName)return e.target.classList.contains("inactive--prev")?(Se=+e.target.textContent,console.log(we,Le,Se),xe(we,Le-1,Se)):e.target.classList.contains("inactive--next")?(Se=+e.target.textContent,xe(we,Le+1,Se)):(Se=+e.target.textContent,xe(we,Le,Se))}));g=a("b7ONl"),g=a("b7ONl");var Be=document.querySelector(".categoryBtns-wrapper"),Ce=document.querySelector("#myDropdown"),De=document.querySelector("#othersButton"),Te=document.querySelector(".otherBtn-wrapper"),Ie=document.querySelector("#othersButton span");(0,g.getCategory)().then((function(e){return e.map((function(e){return e.display_name}))})).then((function(e){return e.sort((function(){return Math.random()-.5})).slice(0,6).forEach((function(e){var t=document.createElement("button");t.classList.add("filter-category__item-bt"),t.textContent=e,Be.appendChild(t)})),e})).then((function(e){var t=e.sort((function(){return Math.random()-.5})).slice(0,13),n=document.querySelector(".sections-list");t.forEach((function(e){var t=document.createElement("li");t.textContent=e,t.classList.add("sections-listItem"),n.appendChild(t)}))})).catch((function(e){return console.error(e),[]})),De.addEventListener("click",(function(){Ce.classList.toggle("hidden"),De.classList.toggle("is-open")})),Te.addEventListener("click",(function(e){"LI"===e.target.tagName&&(Ie.innerText=e.target.innerText,Ce.classList.toggle("hidden"))})),window.addEventListener("resize",(function(){window.innerWidth>=320&&window.innerWidth<768?Ie.innerText="Categories":Ie.innerText="Others"}));var Ne=document.querySelector(".categoryBtns-wrapper"),je=document.querySelector(".sections-list");function Me(e){var t=encodeURIComponent(e.target.innerText.toLowerCase());console.log(t),(0,g.getNewsByCategory)(t).then((function(e){console.log(e),A(e),newsAll=e}))}Ne.addEventListener("click",Me),je.addEventListener("click",Me);var Ae=window.location.pathname,Oe=document.querySelector('.menu_list-tel li a[href="'.concat(Ae,'"]')),Fe=Oe?Oe.parentNode:null;document.getElementsByTagName("body")[0];Fe&&(Fe.style.backgroundColor="#4440f6");var Re=a("bpxeT"),We=a("2TvXO"),He="8af80306c215ce6fbaa948ab6db624b1",Ue="https://api.openweathermap.org/data/2.5/weather?";function Je(){return(Je=e(Re)(e(We).mark((function t(){var n,r,a;return e(We).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(Ue,"q=Kyiv&units=metric&appid=").concat(He,"&units=metric"),e.prev=1,e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.json();case 7:a=e.sent,r.ok&&ze(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}}),t,null,[[1,11]])})))).apply(this,arguments)}function $e(e,t){return Pe.apply(this,arguments)}function Pe(){return(Pe=e(Re)(e(We).mark((function t(n,r){var a,o,c;return e(We).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(Ue,"lat=").concat(n,"&lon=").concat(r,"&appid=").concat(He,"&units=metric"),e.prev=1,e.next=4,fetch(a);case 4:return o=e.sent,e.next=7,o.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),t,null,[[1,11]])})))).apply(this,arguments)}function Ye(){return(Ye=e(Re)(e(We).mark((function t(){return e(We).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.geolocation){e.next=3;break}return e.next=3,navigator.geolocation.getCurrentPosition((function(e){var t=e.coords;$e(t.latitude,t.longitude).then((function(e){ze(e)}))}));case 3:case"end":return e.stop()}}),t)})))).apply(this,arguments)}!function(){Je.apply(this,arguments)}(),function(){Ye.apply(this,arguments)}();document.querySelector(".weather");var Ze=document.querySelector(".favorite-cards");function ze(e){var t=e.dt,n=new Date(1e3*t),r=format(n,"dd LLL y"),a=e.name,o=Math.round(e.main.temp),c=format(new Date(e.dt),"eee"),i=e.weather[0].main,s=e.weather[0].icon,l='<li class="favorite-cards__item weather" id=""><div class="weather__info">\n    <span class="weather__deg">'.concat(o,'&deg;</span>\n    <div class="weather__geo">\n      <span class="weather__value">').concat(i,'</span>\n      <p class="weather__location">\n      <svg xmlns="http://www.w3.org/2000/svg" width="27" height="27" fill="none"><path fill="#fff" d="M13.5 1.688a9.292 9.292 0 0 0-9.281 9.28 9.187 9.187 0 0 0 1.87 5.57s.253.333.294.38l7.117 8.395 7.12-8.398c.037-.045.291-.377.291-.377l.001-.003a9.185 9.185 0 0 0 1.87-5.566A9.292 9.292 0 0 0 13.5 1.688Zm0 12.656a3.375 3.375 0 1 1 0-6.75 3.375 3.375 0 0 1 0 6.75Z"/></svg>\n\n        <span class="weather__city">').concat(a,'</span>\n      </p>\n    </div>\n  </div>\n  <img\n    src="https://openweathermap.org/img/w/').concat(s,'.png"\n    alt="').concat(i,'"\n    class="weather__img"\n  />\n  <div class="weather__date">\n    <p class="weather__day">').concat(c,'</p>\n    <p class="weather__year">').concat(r,'</p>\n  </div>\n  <a\n    href="https://weather.com/uk-UA/weather/tenday/l/874007233ad152f9a0541234e94fc0722a06a81db728ad9e08be04b58fbe18fa"\n    class="weather__link"\n    target="_blank"\n    rel="noreferrer noopener"\n    >weather for week</a\n  ></li>');Ze.insertAdjacentHTML("beforeend",l)}g=a("b7ONl");var Xe=document.querySelector(".favorite-cards__list"),Ke=document.querySelector(".pagination"),Ge=document.querySelector(".pagination__prev-btn"),Qe=document.querySelector(".pagination__next-btn");function Ve(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;return e>=1200?8:e>=768?7:4}function et(e,t,n){var r=(e-1)*t,a=r+t;A(n.slice(r,a))}Ge.addEventListener("click",(function(){var e=parseInt(Ke.querySelector(".active").textContent);if(1!==e){var t=Ve(),n=(0,g.gerCurrentNews)();Ke.querySelector(".active").classList.remove("active"),Ke.children[e-2].classList.add("active"),Xe.innerHTML="",et(e-1,t,n)}})),Qe.addEventListener("click",(function(){var e=parseInt(Ke.querySelector(".active").textContent);if(e!==parseInt(Ke.lastElementChild.textContent)){var t=Ve(),n=(0,g.gerCurrentNews)();Ke.querySelector(".active").classList.remove("active"),Ke.children[e].classList.add("active"),Xe.innerHTML="",et(e+1,t,n)}}));var tt=document.querySelector(".js-open-menu"),nt=document.querySelector(".js-close-menu"),rt=document.querySelector(".js-menu-container"),at=document.querySelector(".toggle_container"),ot=document.querySelector("body");tt.addEventListener("click",(function(){rt.classList.remove("is-hidden"),at.classList.add("mob-swicher"),ot.classList.add("no-scroll")})),nt.addEventListener("click",(function(){rt.classList.add("is-hidden"),at.classList.remove("mob-swicher"),ot.classList.remove("no-scroll")}));var ct={openSearchBtn:document.querySelector("#icon-search_desk"),searchInput:document.querySelector("#search-input")};ct.openSearchBtn.addEventListener("click",(function(){ct.searchInput.classList.toggle("search-box-short"),ct.openSearchBtn.classList.toggle("search-icon-move")}))}();
//# sourceMappingURL=index.750b94b7.js.map
