{"mappings":"AAA+BA,SAASC,cACtC,4BCoEF,SAASC,IACP,OAAOC,KAAKC,MAAMC,aAAaC,QAAQ,e,CAgBzC,SAASC,IACP,IAAIC,EAAcN,IACdO,EAAU,GAEd,IAAKC,UAAUF,EACRC,EAAQE,SAASD,OAAOE,OAC3BH,EAAQI,KAAKH,OAAOE,MAGxB,OAAOH,C,CAGT,SAASK,EAAqBF,GAE5B,OADkBV,IACCa,QAAOC,GAAQA,EAAKJ,OAASA,G,CC7FlD,MAAMK,EAAWjB,SAASkB,eAAe,WACzCC,QAAQC,IAAIH,GAIZE,QAAQC,IAAIlB,KAEZiB,QAAQC,IAAIb,KACZ,MAAMc,EAAad,IACnB,IAAKK,QAAQS,EAAY,CACvB,MAAML,EAAOF,EAAqBF,MAClCU,EAAoBN,GACpBG,QAAQI,MAAMX,KAAMI,E,CAGtB,SAASM,EAAoBE,GAC3B,MAAMC,EAASD,EAAWE,QAAO,CAACC,EAAKC,IACrCD,GAAO,wCAAwCC,EAAKC,+EACeD,EAAKC,8EACND,EAAKE,oFAGxDF,wBACAA,EAAKG,2EAEwBH,EAAKI,gFAEJJ,EAAKK,iFAG5CL,EAAKM,mHAG6BN,EAAKO,uEACCP,EAAKE,6FAMlD,8CAA8CN,EAAW,GAAGZ,YAC/DK,EAASmB,mBAAmB,YAAaX,E","sources":["src/js/not-found-markup.js","src/js/localStorage.js","src/js/page-read.js"],"sourcesContent":["const favoriteGallerySection = document.querySelector(\n  '#favorite-galery-section'\n);\n\nfunction whenNotFoundMarkup() {\n  const notFoundImage = `<img\n    class=\"not-found__img\"\n    src=\"/image-not-found.584be82b.jpg\"\n    alt=\"Something went wrong\"\n  />`;\n  favoriteGallerySection.innerHTML = notFoundImage;\n}\n\nexport { whenNotFoundMarkup };\n","import { getPopularNews } from './api';\nimport { whenNotFoundMarkup } from './not-found-markup';\n\nfunction checkDarkTheme() {\n  const theme = localStorage.getItem('ui-theme');\n  if (theme !== null) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction changeTheme() {\n  const theme = checkDarkTheme('ui-theme');\n  if (theme) {\n    localStorage.removeItem('ui-theme');\n  } else {\n    localStorage.setItem('ui-theme', 'dark');\n  }\n}\n\nfunction getFavoriteArticles() {\n  return JSON.parse(localStorage.getItem('favoriteArticles'));\n}\nfunction checkLocalstorage() {\n  let LocalstorageObjects = getFavoriteArticles() || {};\n  if (LocalstorageObjects.length === 0) {\n    whenNotFoundMarkup();\n  }\n}\n\nfunction addToFavoriteArticles(item) {\n  let favorite = getFavoriteArticles();\n  if (favorite === null) {\n    favorite = [item];\n  } else {\n    favorite.push(item);\n  }\n  localStorage.setItem('favoriteArticles', JSON.stringify(favorite));\n}\n\nfunction removeFromFavoriteArticles(itemId) {\n  let favorite = getFavoriteArticles();\n  let indexCard = 0;\n  favorite.map((item, index) => {\n    const cardId = item.uri.slice(38, item.uri.length);\n    if (cardId === itemId) {\n      indexCard = index;\n    }\n  });\n  favorite.splice(indexCard, 1);\n  localStorage.setItem('favoriteArticles', JSON.stringify(favorite));\n  checkLocalstorage();\n}\n\nfunction testFavorite() {\n  getPopularNews().then(resp => {\n    localStorage.setItem('favoriteArticles', JSON.stringify(resp));\n  });\n}\n\nasync function testReding() {\n  const news = await getPopularNews();\n  for (elNews of news) {\n    elNews.date = elNews.published_date;\n  }\n  localStorage.setItem('readingNews', JSON.stringify(news));\n}\n\nfunction getReadingNews() {\n  return JSON.parse(localStorage.getItem('readingNews'));\n}\n\nfunction addToReadingNews(item) {\n  const addNews = item;\n  addNews.date = new Date().toLocaleDateString();\n  let readingNews = getReadingNews();\n\n  if (readingNews === null) {\n    readingNews = [addNews];\n  } else {\n    readingNews.push(addNews);\n  }\n  localStorage.setItem('readingNews', JSON.stringify(readingNews));\n}\n\nfunction getDatesReadingNews() {\n  let readingNews = getReadingNews();\n  let arrDate = [];\n\n  for (elNews of readingNews) {\n    if (!arrDate.includes(elNews.date)) {\n      arrDate.push(elNews.date);\n    }\n  }\n  return arrDate;\n}\n\nfunction getReadingNewsByDate(date) {\n  let readingNews = getReadingNews();\n  return readingNews.filter(news => news.date === date);\n}\n\nexport {\n  checkDarkTheme,\n  changeTheme,\n  getFavoriteArticles,\n  addToFavoriteArticles,\n  removeFromFavoriteArticles,\n  testFavorite,\n  addToReadingNews,\n  getDatesReadingNews,\n  getReadingNewsByDate,\n  getReadingNews,\n  testReding,\n};\n","import {\n  getDatesReadingNews,\n  getReadingNewsByDate,\n  testReding,\n  getReadingNews,\n} from './localStorage';\n\nconst readUlEl = document.getElementById('read-ul');\nconsole.log(readUlEl);\n\n//testReding();\n\nconsole.log(getReadingNews());\n\nconsole.log(getDatesReadingNews());\nconst arrOfDates = getDatesReadingNews();\nfor (date of arrOfDates) {\n  const news = getReadingNewsByDate(date);\n  generateCardsMarkup(news);\n  console.table(date, news);\n}\n\nfunction generateCardsMarkup(cardsArray) {\n  const markup = cardsArray.reduce((acc, item) => {\n    acc += `<li class=\"favorite-cards__item\" id=\"${item.uri}\">\n      <input type=\"submit\" class=\"favorite-cards__remove-btn\" value=\"${item.uri}\">\n        <a class=\"favorite-cards__image-link\" target=\"_blank\" href=\"${item.url}\">\n          <img\n            class=\"favorite-cards__img\"\n            src=\"${item}\"\n            alt=\"${item.per_facet}\"\n          />\n          <p class=\"favorite-cards__category\">${item.subsection}</p>\n        </a>\n        <h2 class=\"favorite-cards__news-title\">${item.title}\n        </h2>\n        <p class=\"favorite-cards__dicription\">\n        ${item.abstract}\n        </p>\n        <div class=\"favorite-cards__bottom\">\n          <p class=\"favorite-cards__date\">${item.published_date}</p>\n          <a class=\"favorite-cards__link\" href=\"${item.url}\" target=\"_blank\">\n            Read more\n          </a>\n        </div>\n      </li>`;\n    return acc;\n  }, `<p class=\"list-by-date\">new data news      ${cardsArray[0].date}</p>`);\n  readUlEl.insertAdjacentHTML('beforeend', markup);\n}\n"],"names":["document","querySelector","$2338c8cd734f85a6$export$a79b089ce91fc81d","JSON","parse","localStorage","getItem","$2338c8cd734f85a6$export$9e217cba9e31850d","readingNews","arrDate","elNews","includes","date","push","$2338c8cd734f85a6$export$fde472202af621e9","filter","news","$db433d53755dbfd7$var$readUlEl","getElementById","console","log","$db433d53755dbfd7$var$arrOfDates","$db433d53755dbfd7$var$generateCardsMarkup","table","cardsArray","markup","reduce","acc","item","uri","url","per_facet","subsection","title","abstract","published_date","insertAdjacentHTML"],"version":3,"file":"read.8f80b6dc.js.map"}